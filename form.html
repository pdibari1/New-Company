<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Story Builder</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #fffbe6;
      padding: 20px;
    }
    h1, h2 {
      color: #e91e63;
    }
    label {
      display: block;
      margin-top: 15px;
    }
    input, select, textarea {
      display: block;
      margin-top: 5px;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      width: 100%;
    }
    .character-group {
      margin-bottom: 20px;
      padding: 10px;
      border: 1px dashed #e91e63;
      border-radius: 5px;
    }
    button {
      background-color: #e91e63;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 10px;
    }
    button:hover {
      background-color: #c2185b;
    }
  </style>
</head>
<body>
  <h1>Build Your Story</h1>
  <form id="storyForm">
    <h2>Main Characters</h2>
    <div id="mainCharacters"></div>
    <button type="button" onclick="addMainCharacter()">+ Add Main Character</button>

    <h2>Secondary Characters</h2>
    <div id="secondaryCharacters"></div>
    <button type="button" onclick="addSecondaryCharacter()">+ Add Secondary Character</button>

    <label>Where does the main character live?
      <select name="homeLocation">
        <option>Big city</option>
        <option>Small city</option>
        <option>Town</option>
        <option>Village</option>
        <option>Farm</option>
        <option>Rural</option>
      </select>
    </label>

    <label>Special things at their home?
      <input type="text" name="homeFeatures" placeholder="e.g. Pool, treehouse" />
    </label>

    <label>What are they working on?
      <select name="developmentArea">
        <option>New School</option>
        <option>The Golden Rule</option>
        <option>Making Friends</option>
        <option>Being Confident</option>
        <option>Other</option>
      </select>
    </label>

    <label>What are they interested in?
      <select name="interests">
        <option>Pirates</option>
        <option>Unicorns</option>
        <option>Princesses</option>
        <option>Magic</option>
        <option>Legos</option>
        <option>Computers</option>
        <option>Math</option>
        <option>Sports</option>
        <option>School</option>
        <option>Other</option>
      </select>
    </label>

    <button type="submit">Create My Story</button>
  </form>

  <script>
    let mainIndex = 0;
    let secondaryIndex = 0;

    function addMainCharacter() {
      if (mainIndex >= 3) return;
      const div = document.createElement('div');
      div.className = 'character-group';
      div.innerHTML = `
        <label>Main Character Name
          <input type="text" name="main_name_${mainIndex}" required />
        </label>
        <label>Age
          <input type="number" name="main_age_${mainIndex}" required />
        </label>
      `;
      document.getElementById('mainCharacters').appendChild(div);
      mainIndex++;
    }

    function addSecondaryCharacter() {
      const div = document.createElement('div');
      div.className = 'character-group';
      div.innerHTML = `
        <label>Secondary Character Name
          <input type="text" name="secondary_name_${secondaryIndex}" required />
        </label>
        <label>Age
          <input type="number" name="secondary_age_${secondaryIndex}" required />
        </label>
        <label>Relationship to Main Character
          <input type="text" name="secondary_relationship_${secondaryIndex}" required />
        </label>
      `;
      document.getElementById('secondaryCharacters').appendChild(div);
      secondaryIndex++;
    }

    document.getElementById('storyForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const json = {};
      formData.forEach((value, key) => {
        json[key] = value;
      });
      console.log("Form Data as JSON:", JSON.stringify(json, null, 2));
      alert("Story data logged to console!");
    });

    // Initialize with 1 main character
    addMainCharacter();
  </script>
</body>
</html>
